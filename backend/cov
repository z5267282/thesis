#!/bin/zsh

# usage: cov [ -[n]o execute tests ]

# tests not involving execute
pytest \
    --cov=src \
    --ignore=tests/execute \
    --cov-report=html:reports \
    --cov-branch \
    --junitxml=reports/junit.xml \
    --cov-config=.coveragerc # specify in here to remove src/execute.py from coverage
     
[ "$1" = '-o' ] && exit 0

./test-execute
